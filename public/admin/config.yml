backend:
  name: git-gateway
  branch: main

# Media optimized for high-quality images
media_folder: "public/images/warehouses"
public_folder: "/images/warehouses"

# Site configuration
site_url: https://laec.netlify.app
display_url: https://laec.netlify.app
logo_url: /favicon.svg

# Mobile-optimized workflow
publish_mode: simple
editor:
  preview: false  # Disabled for better mobile performance

# Mobile-friendly interface
search: false  # Simplified for mobile
show_preview_links: false

# Collections (UPDATED for CRM integration)
collections:
  # WAREHOUSE COLLECTION (Keep exactly as is - no changes)
  - name: "warehouses"
    label: "ğŸ¢ Properties"
    label_singular: "Property"
    folder: "src/content/warehouses"
    create: true
    slug: "{{slug}}"
    extension: "json"
    format: "json"
    summary: "{{title}} â€¢ {{county}} â€¢ {{availability}}"
    sortable_fields: ['title', 'county', 'availability', 'featured', 'createdAt']
    
    # Mobile view filters
    view_filters:
      - label: "âœ… Available Now"
        field: availability
        pattern: "available"
      - label: "â­ Featured Properties"
        field: featured
        pattern: true
      - label: "â³ Pending Lease"
        field: availability
        pattern: "pending"
      - label: "ğŸ”’ Leased Properties"
        field: availability
        pattern: "leased"
      - label: "ğŸ–ï¸ Miami-Dade"
        field: county
        pattern: "Miami-Dade"
      - label: "ğŸŒ´ Palm Beach"
        field: county
        pattern: "Palm Beach"
      - label: "ğŸ¢ Broward"
        field: county
        pattern: "Broward"
    
    # Mobile view groups
    view_groups:
      - label: "By Status"
        field: availability
      - label: "By County"
        field: county
    
    # Mobile-first fields
    fields:
      # Essential Property Info (always visible)
      - label: "ğŸ¢ Property Title"
        name: "title"
        widget: "string"
        required: true
        hint: "e.g., 'Downtown Logistics Center'"
        
      - label: "ğŸ”— URL Slug"
        name: "slug"
        widget: "string"
        required: true
        hint: "URL-friendly version (e.g., 'downtown-logistics-center')"
        pattern: ['^[a-z0-9-]+$', "Only lowercase letters, numbers, and dashes"]
        
      - label: "ğŸ’° Price"
        name: "price"
        widget: "string"
        required: true
        hint: "e.g., '$12/sq ft/year' or 'Contact for pricing'"
        
      - label: "ğŸ“ Size (sq ft)"
        name: "size"
        widget: "number"
        required: true
        value_type: "int"
        min: 1000
        max: 1000000
        step: 1000
        hint: "Total square footage"
        
      # ENHANCED ADDRESS FIELDS - CLEAR AND ORGANIZED
      - label: "ğŸ  Street Address"
        name: "address"
        widget: "string"
        required: true
        hint: "Complete street address (e.g., '1234 Industrial Blvd, Suite 100')"
        pattern: ['^.{5,}$', "Please enter a complete street address"]
        
      - label: "ğŸ™ï¸ City"
        name: "city"
        widget: "string"
        required: true
        hint: "City name (e.g., 'Hollywood', 'Miami', 'Fort Lauderdale')"
        
      - label: "ğŸ—ºï¸ State"
        name: "state"
        widget: "select"
        required: true
        default: "FL"
        options:
          - { label: "Florida", value: "FL" }
          - { label: "Georgia", value: "GA" }
          - { label: "Alabama", value: "AL" }
          - { label: "South Carolina", value: "SC" }
          - { label: "North Carolina", value: "NC" }
        hint: "Select the state"
        
      - label: "ğŸ“® ZIP Code"
        name: "zipCode"
        widget: "string"
        required: true
        hint: "5-digit ZIP code (e.g., '33021')"
        pattern: ['^[0-9]{5}$', "Please enter a 5-digit ZIP code"]
        
      - label: "ğŸ›ï¸ County"
        name: "county"
        widget: "select"
        required: true
        options:
          - { label: "Miami-Dade County", value: "Miami-Dade" }
          - { label: "Palm Beach County", value: "Palm Beach" }
          - { label: "Broward County", value: "Broward" }
        hint: "Select the county where this property is located"
        
      # Keep this for backward compatibility with existing properties
      - label: "ğŸ“ Legacy Location (for existing properties)"
        name: "location"
        widget: "string"
        required: false
        hint: "Legacy field - will be auto-generated from city/state for new properties"
        
      - label: "âœ¨ Key Features"
        name: "features"
        widget: "list"
        required: true
        allow_add: true
        min: 3
        max: 10
        default: ["Loading Docks", "24/7 Access", "Security System"]
        hint: "Add key features (loading docks, ceiling height, etc.)"
        field:
          label: "Feature"
          name: "feature"
          widget: "string"
        
      # ğŸ¯ HIGH-QUALITY IMAGES (FIXED FOR NO BLUR)
      - label: "ğŸ“¸ Property Images"
        name: "images"
        widget: "list"
        required: true
        allow_add: true
        min: 1
        max: 10
        hint: "Upload high-quality photos (recommended: 1920x1080 or higher)"
        summary: "Photo {{fields.image}}"
        field:
          label: "Image"
          name: "image"
          widget: "image"
          # THIS PREVENTS THE BLURRY COMPRESSION:
          media_library:
            config:
              max_file_size: 10000000  # 10MB for high quality
              multiple: false
              choose_url: false
              # These settings preserve image quality:
              default_transformations: []  # No automatic compression
              manual_transformations: []   # No manual compression
              
      - label: "ğŸ“ Description"
        name: "description"
        widget: "text"
        required: true
        hint: "Detailed property description highlighting benefits and amenities"
        
      - label: "ğŸ”„ Availability Status"
        name: "availability"
        widget: "select"
        required: true
        default: "available"
        options:
          - { label: "âœ… Available Now", value: "available" }
          - { label: "â³ Pending Lease", value: "pending" }
          - { label: "ğŸ”’ Leased", value: "leased" }
        hint: "Current leasing status"
        
      - label: "â­ Featured Property"
        name: "featured"
        widget: "boolean"
        default: false
        hint: "Show prominently on homepage"
        
      - label: "ğŸ“… Date Listed"
        name: "createdAt"
        widget: "datetime"
        default: ""
        format: "YYYY-MM-DD"
        time_format: false
        required: true
        
      # SEO (Optional - collapsed by default)
      - label: "ğŸ” SEO Settings"
        name: "seo"
        widget: "object"
        collapsed: true
        required: false
        fields:
          - label: "Meta Title"
            name: "metaTitle"
            widget: "string"
            required: false
            hint: "Custom title for search engines (optional)"
            
          - label: "Meta Description"
            name: "metaDescription"
            widget: "text"
            required: false
            hint: "Description for search results (optional)"

  # NEW: LEAD MANAGEMENT COLLECTION (CRM Integration)
  - name: "leads"
    label: "ğŸ¯ Lead Management"
    label_singular: "Lead"
    folder: "content/leads"
    create: false  # Leads are created automatically by the system
    delete: false  # Prevent accidental deletion
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter"
    summary: "{{name}} â€¢ {{email}} â€¢ {{status}} â€¢ {{submitted_date}}"
    sortable_fields: ['submitted_date', 'status', 'name', 'priority', 'warehouse_interest']
    
    # Lead status filters for easy management
    view_filters:
      - label: "ğŸ†• New Leads"
        field: status
        pattern: "new"
      - label: "ğŸ“ Contacted"
        field: status
        pattern: "contacted" 
      - label: "âœ… Qualified"
        field: status
        pattern: "qualified"
      - label: "ğŸ“… Viewing Scheduled"
        field: status
        pattern: "viewing_scheduled"
      - label: "ğŸ’¼ Negotiating"
        field: status
        pattern: "negotiating"
      - label: "ğŸ‰ Closed Won"
        field: status
        pattern: "closed_won"
      - label: "âŒ Closed Lost"
        field: status
        pattern: "closed_lost"
      - label: "ğŸ”¥ High Priority"
        field: priority
        pattern: "high"
      - label: "âš¡ Urgent"
        field: priority
        pattern: "urgent"
    
    # Group leads by status and priority
    view_groups:
      - label: "By Status"
        field: status
      - label: "By Priority"
        field: priority
      - label: "By Source"
        field: source
    
    # Lead management fields
    fields:
      - label: "ğŸ‘¤ Lead Name"
        name: "name"
        widget: "string"
        hint: "Lead's full name"
        
      - label: "ğŸ“§ Email Address"
        name: "email"
        widget: "string"
        hint: "Lead's email address"
        
      - label: "ğŸ“± Phone Number"
        name: "phone"
        widget: "string"
        required: false
        hint: "Lead's phone number"
        
      - label: "ğŸ¢ Company"
        name: "company"
        widget: "string"
        required: false
        hint: "Lead's company name"
        
      - label: "ğŸ—ï¸ Warehouse Interest"
        name: "warehouse_interest"
        widget: "string"
        required: false
        hint: "Which warehouse/property they're interested in"
        
      - label: "ğŸ†” Warehouse ID"
        name: "warehouse_id"
        widget: "string"
        required: false
        hint: "Internal warehouse identifier"
        
      - label: "ğŸ’° Budget Range"
        name: "budget_range"
        widget: "string"
        required: false
        hint: "Lead's budget range"
        
      - label: "â° Timeline"
        name: "timeline"
        widget: "string"
        required: false
        hint: "When they need the space"
        
      - label: "ğŸ’¬ Message"
        name: "message"
        widget: "text"
        required: false
        hint: "Lead's initial message/requirements"
        
      - label: "ğŸ“Š Status"
        name: "status"
        widget: "select"
        default: "new"
        options:
          - { label: "ğŸ†• New", value: "new" }
          - { label: "ğŸ“ Contacted", value: "contacted" }
          - { label: "âœ… Qualified", value: "qualified" }
          - { label: "ğŸ“… Viewing Scheduled", value: "viewing_scheduled" }
          - { label: "ğŸ’¼ Negotiating", value: "negotiating" }
          - { label: "ğŸ‰ Closed Won", value: "closed_won" }
          - { label: "âŒ Closed Lost", value: "closed_lost" }
        hint: "Current status of this lead"
        
      - label: "ğŸ“ Source"
        name: "source"
        widget: "select"
        default: "website_form"
        options:
          - { label: "ğŸŒ Website Form", value: "website_form" }
          - { label: "ğŸ“± Modal Form", value: "modal_form" }
          - { label: "ğŸ  Property Page", value: "property_page" }
          - { label: "ğŸ“ Phone Call", value: "phone_call" }
          - { label: "ğŸ“§ Email", value: "email" }
          - { label: "ğŸ‘¥ Referral", value: "referral" }
          - { label: "ğŸš¶ Walk-in", value: "walk_in" }
        hint: "How did this lead come to us?"
        
      - label: "ğŸ“… Submitted Date"
        name: "submitted_date"
        widget: "datetime"
        hint: "When the lead first contacted us"
        
      - label: "ğŸ”¥ Priority"
        name: "priority"
        widget: "select"
        default: "medium"
        options:
          - { label: "ğŸŸ¢ Low", value: "low" }
          - { label: "ğŸŸ¡ Medium", value: "medium" }
          - { label: "ğŸ”´ High", value: "high" }
          - { label: "âš¡ Urgent", value: "urgent" }
        hint: "Priority level for follow-up"
        
      - label: "ğŸ“… Follow Up Date"
        name: "follow_up_date"
        widget: "datetime"
        required: false
        hint: "When to follow up with this lead"
        
      - label: "ğŸ“ Notes"
        name: "notes"
        widget: "text"
        required: false
        hint: "Internal notes about conversations, next steps, etc."
        
      - label: "ğŸ“„ Lead Details"
        name: "body"
        widget: "markdown"
        required: false
        hint: "Additional lead information and conversation history"