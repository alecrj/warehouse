/* MOBILE-FIRST NETLIFY CMS OVERRIDES */
/* This file provides additional mobile optimizations for Netlify CMS */

:root {
  /* Mobile-optimized color palette */
  --mobile-primary: #3b82f6;
  --mobile-primary-dark: #1d4ed8;
  --mobile-success: #10b981;
  --mobile-warning: #f59e0b;
  --mobile-danger: #ef4444;
  --mobile-white: #ffffff;
  --mobile-gray-50: #f9fafb;
  --mobile-gray-100: #f3f4f6;
  --mobile-gray-200: #e5e7eb;
  --mobile-gray-300: #d1d5db;
  --mobile-gray-400: #9ca3af;
  --mobile-gray-500: #6b7280;
  --mobile-gray-600: #4b5563;
  --mobile-gray-700: #374151;
  --mobile-gray-800: #1f2937;
  --mobile-gray-900: #111827;
  
  /* Mobile touch targets */
  --mobile-touch-target: 48px;
  --mobile-touch-target-large: 56px;
  
  /* Mobile spacing system */
  --mobile-space-1: 4px;
  --mobile-space-2: 8px;
  --mobile-space-3: 12px;
  --mobile-space-4: 16px;
  --mobile-space-5: 20px;
  --mobile-space-6: 24px;
  --mobile-space-8: 32px;
  
  /* Mobile typography */
  --mobile-text-xs: 14px;
  --mobile-text-sm: 16px;
  --mobile-text-base: 18px;
  --mobile-text-lg: 20px;
  --mobile-text-xl: 24px;
  --mobile-text-2xl: 32px;
  
  /* Mobile borders and radius */
  --mobile-radius: 12px;
  --mobile-radius-lg: 16px;
  --mobile-border: 2px;
  
  /* Mobile shadows */
  --mobile-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --mobile-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

/* FORCE MOBILE-FIRST LAYOUT */
@media (max-width: 768px) {
  
  /* Hide all desktop navigation and sidebars */
  .nc-app-container nav,
  .nc-app-container aside,
  .nc-app-container [role="navigation"],
  .nc-app-container [data-testid="sidebar"],
  .nc-app-container .css-1dbjc4n:first-child,
  .nc-app-container > div:first-child:not([id="nc-root"]) {
    display: none !important;
  }
  
  /* Force full-width content */
  .nc-app-container main,
  .nc-app-container [role="main"],
  .nc-app-container .css-1rr4qq7,
  .nc-app-container > div > div:last-child {
    margin: 0 !important;
    padding: var(--mobile-space-4) !important;
    width: 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
  
  /* MOBILE TYPOGRAPHY IMPROVEMENTS */
  .nc-app-container h1 {
    font-size: var(--mobile-text-2xl) !important;
    font-weight: 700 !important;
    margin-bottom: var(--mobile-space-6) !important;
    line-height: 1.2 !important;
  }
  
  .nc-app-container h2 {
    font-size: var(--mobile-text-xl) !important;
    font-weight: 600 !important;
    margin-bottom: var(--mobile-space-5) !important;
    line-height: 1.3 !important;
  }
  
  .nc-app-container h3 {
    font-size: var(--mobile-text-lg) !important;
    font-weight: 600 !important;
    margin-bottom: var(--mobile-space-4) !important;
    line-height: 1.4 !important;
  }
  
  .nc-app-container p,
  .nc-app-container span,
  .nc-app-container div {
    font-size: var(--mobile-text-base) !important;
    line-height: 1.5 !important;
  }
  
  .nc-app-container small,
  .nc-app-container .text-sm {
    font-size: var(--mobile-text-sm) !important;
  }
  
  /* MOBILE FORM IMPROVEMENTS */
  .nc-app-container input,
  .nc-app-container textarea,
  .nc-app-container select {
    min-height: var(--mobile-touch-target) !important;
    font-size: var(--mobile-text-base) !important;
    padding: var(--mobile-space-4) !important;
    border: var(--mobile-border) solid var(--mobile-gray-300) !important;
    border-radius: var(--mobile-radius) !important;
    background: var(--mobile-white) !important;
    width: 100% !important;
    box-sizing: border-box !important;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif !important;
  }
  
  .nc-app-container input:focus,
  .nc-app-container textarea:focus,
  .nc-app-container select:focus {
    border-color: var(--mobile-primary) !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
    outline: none !important;
  }
  
  .nc-app-container textarea {
    min-height: 120px !important;
    resize: vertical !important;
  }
  
  .nc-app-container input[type="number"] {
    -webkit-appearance: none !important;
    -moz-appearance: textfield !important;
    appearance: none !important;
  }
  
  .nc-app-container input[type="number"]::-webkit-outer-spin-button,
  .nc-app-container input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none !important;
    appearance: none !important;
    margin: 0 !important;
  }
  
  /* MOBILE BUTTON IMPROVEMENTS */
  .nc-app-container button {
    min-height: var(--mobile-touch-target) !important;
    font-size: var(--mobile-text-base) !important;
    padding: var(--mobile-space-3) var(--mobile-space-6) !important;
    border-radius: var(--mobile-radius) !important;
    font-weight: 600 !important;
    font-family: 'Inter', sans-serif !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    border: none !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: var(--mobile-space-2) !important;
  }
  
  /* Primary buttons */
  .nc-app-container button[color="primary"],
  .nc-app-container button[type="submit"],
  .nc-app-container .primary-button {
    background: var(--mobile-primary) !important;
    color: var(--mobile-white) !important;
  }
  
  .nc-app-container button[color="primary"]:hover,
  .nc-app-container button[type="submit"]:hover {
    background: var(--mobile-primary-dark) !important;
    transform: translateY(-1px) !important;
  }
  
  /* Secondary buttons */
  .nc-app-container button[color="secondary"],
  .nc-app-container .secondary-button {
    background: var(--mobile-gray-100) !important;
    color: var(--mobile-gray-700) !important;
    border: 1px solid var(--mobile-gray-300) !important;
  }
  
  .nc-app-container button[color="secondary"]:hover {
    background: var(--mobile-gray-200) !important;
  }
  
  /* Danger buttons */
  .nc-app-container button[color="danger"],
  .nc-app-container .danger-button {
    background: var(--mobile-danger) !important;
    color: var(--mobile-white) !important;
  }
  
  /* MOBILE LIST AND CARD IMPROVEMENTS */
  .nc-app-container [role="listitem"],
  .nc-app-container .css-1x5jdmq,
  .nc-app-container .collection-item {
    padding: var(--mobile-space-5) !important;
    margin-bottom: var(--mobile-space-4) !important;
    background: var(--mobile-white) !important;
    border: 1px solid var(--mobile-gray-200) !important;
    border-radius: var(--mobile-radius-lg) !important;
    box-shadow: var(--mobile-shadow) !important;
  }
  
  .nc-app-container [data-testid="card"],
  .nc-app-container .css-1isemmb,
  .nc-app-container .entry-card {
    margin-bottom: var(--mobile-space-5) !important;
    padding: var(--mobile-space-5) !important;
    background: var(--mobile-white) !important;
    border: 1px solid var(--mobile-gray-200) !important;
    border-radius: var(--mobile-radius-lg) !important;
    box-shadow: var(--mobile-shadow) !important;
  }
  
  /* MOBILE TABLE IMPROVEMENTS */
  .nc-app-container table {
    font-size: var(--mobile-text-sm) !important;
    width: 100% !important;
    min-width: 600px !important; /* Force horizontal scroll on small screens */
    border-collapse: collapse !important;
  }
  
  .nc-app-container th,
  .nc-app-container td {
    padding: var(--mobile-space-3) !important;
    font-size: var(--mobile-text-sm) !important;
    border-bottom: 1px solid var(--mobile-gray-200) !important;
    text-align: left !important;
  }
  
  .nc-app-container th {
    background: var(--mobile-gray-50) !important;
    font-weight: 600 !important;
    color: var(--mobile-gray-700) !important;
  }
  
  /* Table wrapper for horizontal scrolling */
  .nc-app-container .css-1q8fm3x,
  .nc-app-container .table-wrapper {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    margin: var(--mobile-space-4) 0 !important;
    border: 1px solid var(--mobile-gray-200) !important;
    border-radius: var(--mobile-radius) !important;
  }
  
  /* MOBILE MEDIA LIBRARY IMPROVEMENTS */
  .nc-app-container [data-testid="media-library"],
  .nc-app-container .media-library {
    padding: var(--mobile-space-4) !important;
    margin: var(--mobile-space-4) 0 !important;
  }
  
  .nc-app-container [data-testid="media-library"] img,
  .nc-app-container .media-library img {
    border-radius: var(--mobile-radius) !important;
    margin-bottom: var(--mobile-space-3) !important;
    max-width: 100% !important;
    height: auto !important;
  }
  
  .nc-app-container input[type="file"] {
    padding: var(--mobile-space-8) var(--mobile-space-4) !important;
    border: 2px dashed var(--mobile-gray-300) !important;
    border-radius: var(--mobile-radius-lg) !important;
    text-align: center !important;
    background: var(--mobile-gray-50) !important;
    cursor: pointer !important;
  }
  
  .nc-app-container input[type="file"]:hover {
    border-color: var(--mobile-primary) !important;
    background: var(--mobile-gray-100) !important;
  }
  
  /* MOBILE MODAL IMPROVEMENTS */
  .nc-app-container [role="dialog"],
  .nc-app-container .modal {
    margin: var(--mobile-space-4) !important;
    max-width: calc(100vw - 32px) !important;
    max-height: calc(100vh - 64px) !important;
    border-radius: var(--mobile-radius-lg) !important;
  }
  
  /* MOBILE LOADING STATES */
  .nc-app-container .loading,
  .nc-app-container [data-testid="loading"] {
    padding: var(--mobile-space-8) !important;
    text-align: center !important;
    font-size: var(--mobile-text-base) !important;
  }
  
  /* MOBILE ERROR STATES */
  .nc-app-container .error,
  .nc-app-container [data-testid="error"] {
    background: #fef2f2 !important;
    border: 1px solid #fecaca !important;
    color: #dc2626 !important;
    padding: var(--mobile-space-4) !important;
    border-radius: var(--mobile-radius) !important;
    margin: var(--mobile-space-4) 0 !important;
  }
  
  /* MOBILE SUCCESS STATES */
  .nc-app-container .success,
  .nc-app-container [data-testid="success"] {
    background: #f0fdf4 !important;
    border: 1px solid #bbf7d0 !important;
    color: #166534 !important;
    padding: var(--mobile-space-4) !important;
    border-radius: var(--mobile-radius) !important;
    margin: var(--mobile-space-4) 0 !important;
  }
  
  /* MOBILE SPACING IMPROVEMENTS */
  .nc-app-container .css-1rr4qq7 > *,
  .nc-app-container main > *,
  .nc-app-container [role="main"] > * {
    margin-bottom: var(--mobile-space-6) !important;
  }
  
  .nc-app-container .css-1rr4qq7 > *:last-child,
  .nc-app-container main > *:last-child {
    margin-bottom: 0 !important;
  }
  
  /* MOBILE FORM SECTIONS */
  .nc-app-container .form-section,
  .nc-app-container .field-group {
    margin-bottom: var(--mobile-space-6) !important;
    padding: var(--mobile-space-5) !important;
    background: var(--mobile-white) !important;
    border: 1px solid var(--mobile-gray-200) !important;
    border-radius: var(--mobile-radius-lg) !important;
  }
  
  /* MOBILE FORM LABELS */
  .nc-app-container label {
    font-size: var(--mobile-text-base) !important;
    font-weight: 600 !important;
    color: var(--mobile-gray-700) !important;
    margin-bottom: var(--mobile-space-2) !important;
    display: block !important;
  }
  
  /* MOBILE HELPER TEXT */
  .nc-app-container .help-text,
  .nc-app-container .field-hint {
    font-size: var(--mobile-text-sm) !important;
    color: var(--mobile-gray-500) !important;
    margin-top: var(--mobile-space-1) !important;
    line-height: 1.4 !important;
  }
  
  /* MOBILE TABS */
  .nc-app-container [role="tablist"],
  .nc-app-container .tabs {
    border-bottom: 1px solid var(--mobile-gray-200) !important;
    margin-bottom: var(--mobile-space-6) !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  .nc-app-container [role="tab"],
  .nc-app-container .tab {
    min-height: var(--mobile-touch-target) !important;
    padding: var(--mobile-space-3) var(--mobile-space-5) !important;
    font-size: var(--mobile-text-base) !important;
    font-weight: 500 !important;
    border: none !important;
    background: none !important;
    color: var(--mobile-gray-600) !important;
    cursor: pointer !important;
    white-space: nowrap !important;
  }
  
  .nc-app-container [role="tab"][aria-selected="true"],
  .nc-app-container .tab.active {
    color: var(--mobile-primary) !important;
    border-bottom: 2px solid var(--mobile-primary) !important;
    font-weight: 600 !important;
  }
  
  /* MOBILE BREADCRUMBS */
  .nc-app-container .breadcrumbs {
    font-size: var(--mobile-text-sm) !important;
    margin-bottom: var(--mobile-space-4) !important;
    padding: var(--mobile-space-3) 0 !important;
    overflow-x: auto !important;
    white-space: nowrap !important;
  }
  
  /* MOBILE PAGINATION */
  .nc-app-container .pagination {
    margin: var(--mobile-space-8) 0 !important;
    text-align: center !important;
  }
  
  .nc-app-container .pagination button {
    min-width: var(--mobile-touch-target) !important;
    min-height: var(--mobile-touch-target) !important;
    margin: 0 var(--mobile-space-1) !important;
  }
  
  /* MOBILE SEARCH */
  .nc-app-container input[type="search"],
  .nc-app-container .search-input {
    background: var(--mobile-white) !important;
    border: var(--mobile-border) solid var(--mobile-gray-300) !important;
    border-radius: var(--mobile-radius-lg) !important;
    padding: var(--mobile-space-4) var(--mobile-space-5) !important;
    font-size: var(--mobile-text-base) !important;
    width: 100% !important;
    margin-bottom: var(--mobile-space-4) !important;
  }
  
  /* MOBILE FILTERS */
  .nc-app-container .filters {
    margin-bottom: var(--mobile-space-6) !important;
    padding: var(--mobile-space-4) !important;
    background: var(--mobile-gray-50) !important;
    border-radius: var(--mobile-radius-lg) !important;
  }
  
  .nc-app-container .filter-item {
    margin-bottom: var(--mobile-space-3) !important;
  }
  
  .nc-app-container .filter-item:last-child {
    margin-bottom: 0 !important;
  }
  
  /* MOBILE DROPDOWN IMPROVEMENTS */
  .nc-app-container select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e") !important;
    background-position: right 12px center !important;
    background-repeat: no-repeat !important;
    background-size: 16px 12px !important;
    padding-right: 40px !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
  }
  
  /* MOBILE CHECKBOX AND RADIO IMPROVEMENTS */
  .nc-app-container input[type="checkbox"],
  .nc-app-container input[type="radio"] {
    width: 20px !important;
    height: 20px !important;
    min-height: 20px !important;
    margin-right: var(--mobile-space-3) !important;
    cursor: pointer !important;
  }
  
  /* MOBILE TOGGLE SWITCH */
  .nc-app-container .toggle-switch {
    min-height: var(--mobile-touch-target) !important;
    display: flex !important;
    align-items: center !important;
  }
  
  /* MOBILE PREVIEW IFRAME */
  .nc-app-container iframe {
    border: 1px solid var(--mobile-gray-200) !important;
    border-radius: var(--mobile-radius-lg) !important;
    width: 100% !important;
    min-height: 400px !important;
  }
  
  /* FORCE MOBILE LAYOUT FOR SPECIFIC CMS COMPONENTS */
  .nc-app-container .collection-page,
  .nc-app-container .editor-page {
    padding: var(--mobile-space-4) !important;
    margin: 0 !important;
    max-width: 100% !important;
  }
  
  /* HIDE UNNECESSARY MOBILE ELEMENTS */
  .nc-app-container .desktop-only,
  .nc-app-container [data-mobile="false"] {
    display: none !important;
  }
  
  /* IMPROVE MOBILE SCROLLING */
  .nc-app-container {
    -webkit-overflow-scrolling: touch !important;
    overflow-x: hidden !important;
  }
  
  /* MOBILE-SPECIFIC ANIMATIONS */
  .nc-app-container * {
    transition: all 0.2s ease !important;
  }
  
  .nc-app-container button:active {
    transform: scale(0.98) !important;
  }
  
  .nc-app-container input:focus,
  .nc-app-container textarea:focus,
  .nc-app-container select:focus {
    transform: scale(1.02) !important;
  }
}

/* TABLET OPTIMIZATIONS (769px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  .nc-app-container {
    font-size: var(--mobile-text-base) !important;
  }
  
  .nc-app-container input,
  .nc-app-container textarea,
  .nc-app-container select,
  .nc-app-container button {
    min-height: var(--mobile-touch-target-large) !important;
    font-size: var(--mobile-text-base) !important;
  }
}

/* ACCESSIBILITY IMPROVEMENTS */
@media (prefers-reduced-motion: reduce) {
  .nc-app-container * {
    transition: none !important;
    animation: none !important;
  }
}

@media (prefers-contrast: high) {
  .nc-app-container {
    --mobile-gray-300: #000000 !important;
    --mobile-gray-400: #000000 !important;
    --mobile-gray-500: #000000 !important;
  }
}

/* DARK MODE SUPPORT */
@media (prefers-color-scheme: dark) {
  .nc-app-container {
    --mobile-white: #1f2937 !important;
    --mobile-gray-50: #374151 !important;
    --mobile-gray-100: #4b5563 !important;
    --mobile-gray-900: #f9fafb !important;
  }
}