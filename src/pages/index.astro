---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

// Get featured warehouses from CMS
let allWarehouses;
let displayWarehouses = [];

try {
  allWarehouses = await getCollection('warehouses');
  const featuredWarehouses = allWarehouses
    .filter(warehouse => warehouse.data.featured && warehouse.data.availability === 'available')
    .slice(0, 3);

  // If no featured warehouses, show first 3 available
  displayWarehouses = featuredWarehouses.length > 0 
    ? featuredWarehouses 
    : allWarehouses.filter(w => w.data.availability === 'available').slice(0, 3);
} catch (error) {
  console.log('No warehouses collection found, using empty array');
  displayWarehouses = [];
}
---

<BaseLayout 
  title="Find Your Perfect Warehouse in South Florida | Ariel Realty Group"
  description="Free tenant representation for your next warehouse lease, powered by Ariel Realty Group. From 500 SF to 500,000 SF - we've got you covered in South Florida."
>
  <!-- Hero Section -->
  <section id="hero" class="relative min-h-screen flex items-center overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900">
    <!-- Animated Background Elements -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"></div>
      <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"></div>
      <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-full blur-3xl"></div>
    </div>

    <!-- Grid Pattern -->
    <div class="absolute inset-0 opacity-20">
      <div class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px]"></div>
    </div>

    <div class="relative z-10 max-w-7xl mx-auto px-6 lg:px-8 w-full">
      <!-- Section Number -->
      <div class="absolute top-8 left-8 text-white/40 font-mono text-lg tracking-wider">
        01 // 04 
      </div>

      <div class="grid lg:grid-cols-2 gap-16 items-center min-h-screen py-20">
        <!-- Hero Content -->
        <div class="space-y-8 hero-content">
          <!-- Badge -->
          <div class="hero-badge inline-flex items-center px-6 py-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-white font-medium">
            <div class="w-2 h-2 bg-green-400 rounded-full mr-3 animate-pulse"></div>
            South Florida Industrial Experts
          </div>

          <!-- Main Heading -->
          <div class="hero-text">
            <h1 class="text-5xl lg:text-7xl font-black text-white leading-none tracking-tight">
              <span class="block">PREMIUM</span>
              <span class="block">WAREHOUSE</span>
              <span class="block bg-gradient-to-r from-blue-400 via-cyan-400 to-blue-300 bg-clip-text text-transparent">SPACES</span>
            </h1>
          </div>

          <!-- Subtitle -->
          <div class="hero-subtitle space-y-4">
            <p class="text-xl lg:text-2xl text-white/80 font-light max-w-xl leading-relaxed">
              Free tenant representation for your next warehouse lease in South Florida. 
              <span class="text-white font-medium">Expert negotiation, zero cost to you.</span>
            </p>
          </div>

          <!-- Stats -->
          <div class="hero-stats grid grid-cols-3 gap-8 pt-8">
            <div class="text-center">
              <div class="text-3xl lg:text-4xl font-bold text-white mb-2">50+</div>
              <div class="text-white/60 text-sm uppercase tracking-wider">Properties</div>
            </div>
            <div class="text-center">
              <div class="text-3xl lg:text-4xl font-bold text-white mb-2">FREE</div>
              <div class="text-white/60 text-sm uppercase tracking-wider">For Tenants</div>
            </div>
            <div class="text-center">
              <div class="text-3xl lg:text-4xl font-bold text-white mb-2">24/7</div>
              <div class="text-white/60 text-sm uppercase tracking-wider">Support</div>
            </div>
          </div>
        </div>

        <!-- Contact Form -->
        <div class="hero-form">
          <div class="bg-white/10 backdrop-blur-xl rounded-3xl p-8 border border-white/20 shadow-2xl">
            <div class="mb-8">
              <h2 class="text-3xl font-bold text-white mb-3">Get Started Today</h2>
              <p class="text-white/70">Fill out this form and we'll match you with perfect warehouse spaces within 24 hours.</p>
            </div>

            <form name="hero-contact" method="POST" data-netlify="true" class="space-y-6">
              <input type="hidden" name="form-name" value="hero-contact" />
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                  <label for="hero-name" class="block text-sm font-semibold text-white mb-2">Full Name</label>
                  <input 
                    type="text" 
                    id="hero-name" 
                    name="name" 
                    required 
                    class="w-full px-4 py-4 rounded-xl bg-white/10 border border-white/30 text-white placeholder-white/50 focus:border-cyan-400 focus:outline-none focus:ring-2 focus:ring-cyan-400/50 transition-all duration-300"
                    placeholder="John Smith"
                  />
                </div>
                <div class="form-group">
                  <label for="hero-email" class="block text-sm font-semibold text-white mb-2">Email Address</label>
                  <input 
                    type="email" 
                    id="hero-email" 
                    name="email" 
                    required 
                    class="w-full px-4 py-4 rounded-xl bg-white/10 border border-white/30 text-white placeholder-white/50 focus:border-cyan-400 focus:outline-none focus:ring-2 focus:ring-cyan-400/50 transition-all duration-300"
                    placeholder="john@company.com"
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="hero-phone" class="block text-sm font-semibold text-white mb-2">Phone Number</label>
                <input 
                  type="tel" 
                  id="hero-phone" 
                  name="phone" 
                  class="w-full px-4 py-4 rounded-xl bg-white/10 border border-white/30 text-white placeholder-white/50 focus:border-cyan-400 focus:outline-none focus:ring-2 focus:ring-cyan-400/50 transition-all duration-300"
                  placeholder="(954) 123-4567"
                />
              </div>

              <div class="form-group">
                <label for="hero-requirements" class="block text-sm font-semibold text-white mb-2">Space Requirements</label>
                <textarea 
                  id="hero-requirements" 
                  name="requirements" 
                  rows="4" 
                  class="w-full px-4 py-4 rounded-xl bg-white/10 border border-white/30 text-white placeholder-white/50 focus:border-cyan-400 focus:outline-none focus:ring-2 focus:ring-cyan-400/50 transition-all duration-300 resize-none"
                  placeholder="Size needed, location preferences, timeline, special requirements..."
                ></textarea>
              </div>

              <button 
                type="submit" 
                class="w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-cyan-400/50 group"
              >
                <span class="flex items-center justify-center">
                  Get Free Representation
                  <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                  </svg>
                </span>
              </button>

              <p class="text-xs text-white/60 text-center">
                100% Free Service • No Hidden Fees • Expert Negotiation
              </p>
            </form>
          </div>
        </div>
      </div>

      <!-- Scroll Indicator -->
      <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white/60">
        <div class="flex flex-col items-center animate-bounce">
          <span class="text-sm mb-2 tracking-wide">SCROLL</span>
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="relative py-32 bg-white overflow-hidden">
    <!-- Section Number -->
    <div class="absolute top-12 left-12 text-slate-300 font-mono text-lg tracking-wider">
      02 // 04
    </div>

    <div class="max-w-7xl mx-auto px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-20 items-center">
        <!-- Content -->
        <div class="about-content">
          <div class="mb-8">
            <h2 class="text-5xl lg:text-6xl font-black text-slate-900 leading-tight tracking-tight">
              WHY CHOOSE
              <span class="block bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent">
                ARIEL REALTY
              </span>
            </h2>
          </div>

          <div class="space-y-8">
            <p class="text-xl text-slate-600 leading-relaxed">
              We represent tenants exclusively, meaning we work for YOU, not the landlord. 
              Our service is completely free because landlords pay our commission.
            </p>

            <div class="grid grid-cols-2 gap-8">
              <div class="space-y-4">
                <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center">
                  <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-slate-900">Zero Cost</h3>
                <p class="text-slate-600">Completely free tenant representation services</p>
              </div>

              <div class="space-y-4">
                <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center">
                  <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-slate-900">Expert Negotiation</h3>
                <p class="text-slate-600">20+ years of commercial real estate experience</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Image/Visual -->
        <div class="about-visual relative">
          <div class="relative">
            <div class="aspect-square bg-gradient-to-br from-blue-500 to-cyan-500 rounded-3xl p-1">
              <div class="w-full h-full bg-white rounded-3xl p-12 flex items-center justify-center">
                <div class="text-center">
                  <div class="text-6xl font-black text-slate-900 mb-4">50+</div>
                  <div class="text-xl text-slate-600 font-medium">Properties</div>
                  <div class="text-slate-500">Available Now</div>
                </div>
              </div>
            </div>
            
            <!-- Floating Elements -->
            <div class="absolute -top-8 -right-8 w-24 h-24 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-2xl opacity-80"></div>
            <div class="absolute -bottom-8 -left-8 w-16 h-16 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-xl opacity-60"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Properties -->
  {displayWarehouses.length > 0 && (
    <section id="properties" class="relative py-32 bg-slate-50 overflow-hidden">
      <!-- Section Number -->
      <div class="absolute top-12 left-12 text-slate-300 font-mono text-lg tracking-wider">
        03 // 04
      </div>

      <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <!-- Section Header -->
        <div class="text-center mb-20">
          <h2 class="text-5xl lg:text-6xl font-black text-slate-900 leading-tight tracking-tight mb-8">
            FEATURED
            <span class="block bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent">
              PROPERTIES
            </span>
          </h2>
          <p class="text-xl text-slate-600 max-w-2xl mx-auto leading-relaxed">
            Premium warehouse spaces across South Florida, hand-picked for their quality and value
          </p>
        </div>

        <!-- Properties Grid -->
        <div class="grid lg:grid-cols-3 gap-8 mb-16">
          {displayWarehouses.map((warehouse, index) => (
            <div class="property-card group">
              <div class="bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                <!-- Image -->
                <div class="relative aspect-w-16 aspect-h-10 overflow-hidden">
                  <img 
                    src={warehouse.data.images?.[0] || '/images/warehouse-placeholder.jpg'}
                    alt={warehouse.data.title}
                    class="w-full h-64 object-cover group-hover:scale-110 transition-transform duration-700"
                  />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"></div>
                  <div class="absolute top-4 left-4">
                    <span class="px-3 py-1 rounded-full text-sm font-medium bg-green-500 text-white">
                      Available
                    </span>
                  </div>
                  <div class="absolute bottom-4 left-4 right-4">
                    <h3 class="text-white font-bold text-xl mb-1">{warehouse.data.title}</h3>
                    <p class="text-white/80 text-sm">{warehouse.data.location || warehouse.data.address}</p>
                  </div>
                </div>

                <!-- Content -->
                <div class="p-8">
                  <!-- Stats -->
                  <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="text-center p-4 bg-slate-50 rounded-xl">
                      <div class="text-2xl font-bold text-slate-900 mb-1">
                        {warehouse.data.size.toLocaleString()}
                      </div>
                      <div class="text-sm text-slate-600">Square Feet</div>
                    </div>
                    <div class="text-center p-4 bg-slate-50 rounded-xl">
                      <div class="text-2xl font-bold text-slate-900 mb-1">
                        {warehouse.data.price}
                      </div>
                      <div class="text-sm text-slate-600">per SF/year</div>
                    </div>
                  </div>

                  <!-- Features -->
                  {warehouse.data.features && warehouse.data.features.length > 0 && (
                    <div class="mb-6">
                      <div class="flex flex-wrap gap-2">
                        {warehouse.data.features.slice(0, 2).map((feature: string) => (
                          <span class="text-sm px-3 py-1 bg-blue-50 text-blue-700 rounded-full font-medium">
                            {feature}
                          </span>
                        ))}
                        {warehouse.data.features.length > 2 && (
                          <span class="text-sm px-3 py-1 bg-slate-100 text-slate-600 rounded-full">
                            +{warehouse.data.features.length - 2} more
                          </span>
                        )}
                      </div>
                    </div>
                  )}

                  <!-- Action -->
                  <a 
                    href={`/warehouses/${warehouse.data.slug}`} 
                    class="block w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white text-center py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 group"
                  >
                    View Details
                    <svg class="w-4 h-4 ml-2 inline group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          ))}
        </div>

        <!-- View All Button -->
        <div class="text-center">
          <a 
            href="/warehouses" 
            class="inline-flex items-center bg-slate-900 hover:bg-slate-800 text-white px-8 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 group"
          >
            <span>View All Properties</span>
            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </a>
        </div>
      </div>
    </section>
  )}

  <!-- CTA Section -->
  <section id="cta" class="relative py-32 bg-gradient-to-br from-slate-900 to-slate-800 overflow-hidden">
    <!-- Section Number -->
    <div class="absolute top-12 left-12 text-white/40 font-mono text-lg tracking-wider">
      04 // 04
    </div>

    <!-- Background Elements -->
    <div class="absolute inset-0">
      <div class="absolute top-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"></div>
      <div class="absolute bottom-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"></div>
    </div>

    <div class="relative z-10 max-w-7xl mx-auto px-6 lg:px-8 text-center">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-5xl lg:text-7xl font-black text-white leading-tight tracking-tight mb-8">
          READY TO FIND YOUR
          <span class="block bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent">
            PERFECT SPACE?
          </span>
        </h2>

        <p class="text-xl lg:text-2xl text-white/80 mb-12 max-w-2xl mx-auto leading-relaxed">
          Our expert team is standing by to provide you with completely free tenant representation. 
          Let's find your ideal warehouse today.
        </p>

        <div class="flex flex-col sm:flex-row gap-6 justify-center items-center">
          <a 
            href="tel:+19549379667"
            class="inline-flex items-center bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-2xl group"
          >
            <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            Call (954) 937-9667
          </a>

          <a 
            href="/contact"
            class="inline-flex items-center bg-white/10 backdrop-blur-md border-2 border-white/30 hover:bg-white/20 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-105 group"
          >
            Send Message
            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </a>
        </div>

        <p class="text-white/60 text-sm mt-8">
          Available 24/7 • Free Consultation • Expert Negotiation
        </p>
      </div>
    </div>
  </section>

  <!-- Simple GSAP Animations -->
  <script>
    // Simple animations that work immediately
    document.addEventListener('DOMContentLoaded', function() {
      // Check if GSAP is available
      if (typeof gsap !== 'undefined') {
        console.log('GSAP loaded, initializing animations...');
        
        // Simple fade in for hero content
        gsap.from('.hero-content > *', {
          y: 50,
          opacity: 0,
          duration: 1,
          stagger: 0.2,
          ease: 'power3.out',
          delay: 0.5
        });

        gsap.from('.hero-form', {
          x: 50,
          opacity: 0,
          duration: 1,
          ease: 'power3.out',
          delay: 1
        });

        // Scroll triggered animations
        gsap.registerPlugin(ScrollTrigger);
        
        gsap.from('.about-content', {
          x: -50,
          opacity: 0,
          duration: 1,
          scrollTrigger: {
            trigger: '.about-content',
            start: 'top 80%'
          }
        });

        gsap.from('.about-visual', {
          x: 50,
          opacity: 0,
          duration: 1,
          scrollTrigger: {
            trigger: '.about-visual',
            start: 'top 80%'
          }
        });
      } else {
        console.log('GSAP not loaded, using CSS animations only');
      }

      // Form interactions
      const inputs = document.querySelectorAll('input, textarea');
      inputs.forEach(function(input) {
        input.addEventListener('focus', function() {
          if (typeof gsap !== 'undefined') {
            gsap.to(this, { scale: 1.02, duration: 0.3 });
          }
        });
        
        input.addEventListener('blur', function() {
          if (typeof gsap !== 'undefined') {
            gsap.to(this, { scale: 1, duration: 0.3 });
          }
        });
      });
    });
  </script>
</BaseLayout>