---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection, type CollectionEntry } from 'astro:content';

// Get featured warehouses
const warehouses = await getCollection('warehouses');
const featuredWarehouses = warehouses
  .filter((w: CollectionEntry<'warehouses'>) => w.data.featured && w.data.availability === 'available')
  .slice(0, 3);

// Stats for the company
const stats = {
  properties: warehouses.length,
  totalSpace: warehouses.reduce((acc, w) => acc + w.data.size, 0),
  locations: new Set(warehouses.map(w => w.data.location)).size,
  yearsInBusiness: 15
};
---

<BaseLayout>
  <!-- Hero Section -->
  <section class="relative min-h-[90vh] flex items-center justify-center overflow-hidden bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900">
    <!-- Animated Background -->
    <div class="absolute inset-0">
      <div class="absolute inset-0 bg-[url('/images/grid.svg')] opacity-20"></div>
      <div class="absolute inset-0 bg-gradient-to-t from-gray-900/50 to-transparent"></div>
    </div>
    
    <!-- Hero Content -->
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div class="animate-fadeInUp">
        <h1 class="text-5xl md:text-7xl font-bold text-white mb-6 leading-tight">
          Find Your Perfect<br />
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400">
            Warehouse Space
          </span>
        </h1>
        <p class="text-xl md:text-2xl text-gray-300 mb-10 max-w-3xl mx-auto">
          Premium industrial and logistics facilities across strategic locations. 
          Flexible terms, professional service, unmatched value.
        </p>
        
        <!-- CTA Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/warehouses" class="group bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all hover:shadow-2xl hover:scale-105 inline-flex items-center">
            Browse Properties
            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
          <a href="#contact" class="bg-white/10 backdrop-blur-md hover:bg-white/20 text-white border border-white/30 px-8 py-4 rounded-full text-lg font-semibold transition-all">
            Get In Touch
          </a>
        </div>
      </div>
      
      <!-- Scroll Indicator -->
      <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
        <svg class="w-6 h-6 text-white/50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
        <div class="text-center">
          <div class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">{stats.properties}+</div>
          <div class="text-gray-600">Active Properties</div>
        </div>
        <div class="text-center">
          <div class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">{(stats.totalSpace / 1000000).toFixed(1)}M</div>
          <div class="text-gray-600">Sq Ft Available</div>
        </div>
        <div class="text-center">
          <div class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">{stats.locations}</div>
          <div class="text-gray-600">Prime Locations</div>
        </div>
        <div class="text-center">
          <div class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">{stats.yearsInBusiness}+</div>
          <div class="text-gray-600">Years Experience</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
          Why Choose WarehouseHub
        </h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          We provide more than just space. We deliver complete industrial real estate solutions tailored to your business needs.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Feature 1 -->
        <div class="group bg-gray-50 rounded-2xl p-8 transition-all hover:shadow-xl hover:scale-105">
          <div class="w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-4">Strategic Locations</h3>
          <p class="text-gray-600 leading-relaxed">
            Prime locations near major highways, ports, and transportation hubs. Minimize logistics costs and maximize efficiency.
          </p>
        </div>

        <!-- Feature 2 -->
        <div class="group bg-gray-50 rounded-2xl p-8 transition-all hover:shadow-xl hover:scale-105">
          <div class="w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-4">State-of-the-Art Security</h3>
          <p class="text-gray-600 leading-relaxed">
            24/7 surveillance, controlled access, and advanced security systems. Your inventory and assets are always protected.
          </p>
        </div>

        <!-- Feature 3 -->
        <div class="group bg-gray-50 rounded-2xl p-8 transition-all hover:shadow-xl hover:scale-105">
          <div class="w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-4">Flexible Terms</h3>
          <p class="text-gray-600 leading-relaxed">
            Customizable lease terms that grow with your business. From short-term to long-term, we adapt to your needs.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Properties -->
  {featuredWarehouses.length > 0 && (
    <section class="py-20 bg-gray-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
            Featured Properties
          </h2>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            Explore our hand-picked selection of premium warehouse spaces available for immediate occupancy.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          {featuredWarehouses.map((warehouse: CollectionEntry<'warehouses'>) => (
            <div class="group bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all hover:scale-105">
              <div class="relative h-64 overflow-hidden">
                {warehouse.data.images && warehouse.data.images[0] ? (
                  <img 
                    src={warehouse.data.images[0]} 
                    alt={warehouse.data.title}
                    class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                  />
                ) : (
                  <div class="w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center">
                    <svg class="w-16 h-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                    </svg>
                  </div>
                )}
                <div class="absolute top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-full text-sm font-semibold">
                  Available Now
                </div>
              </div>
              <div class="p-8">
                <h3 class="text-2xl font-bold text-gray-900 mb-2">{warehouse.data.title}</h3>
                <p class="text-gray-600 mb-4 flex items-center">
                  <svg class="w-5 h-5 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  </svg>
                  {warehouse.data.location}
                </p>
                <div class="flex justify-between items-center mb-6">
                  <div>
                    <span class="text-3xl font-bold text-blue-600">{warehouse.data.price}</span>
                  </div>
                  <div class="text-gray-500">
                    {warehouse.data.size.toLocaleString()} sq ft
                  </div>
                </div>
                <a 
                  href={`/warehouses/${warehouse.data.slug}`}
                  class="block w-full text-center bg-gray-900 hover:bg-gray-800 text-white px-6 py-3 rounded-full font-semibold transition-all"
                >
                  View Details
                </a>
              </div>
            </div>
          ))}
        </div>

        <div class="text-center mt-12">
          <a href="/warehouses" class="inline-flex items-center text-blue-600 hover:text-blue-700 font-semibold text-lg group">
            View All Properties
            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
        </div>
      </div>
    </section>
  )}

  <!-- CTA Section -->
  <section class="py-20 bg-gradient-to-r from-blue-600 to-blue-700 text-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-4xl md:text-5xl font-bold mb-6">
        Ready to Find Your Space?
      </h2>
      <p class="text-xl mb-10 text-blue-100">
        Our team is standing by to help you find the perfect warehouse solution for your business.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="/warehouses" class="bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 rounded-full font-semibold transition-all hover:shadow-xl inline-flex items-center justify-center">
          Browse All Properties
        </a>
        <a href="#contact" class="bg-blue-500 hover:bg-blue-400 text-white px-8 py-4 rounded-full font-semibold transition-all inline-flex items-center justify-center">
          Schedule a Tour
        </a>
      </div>
    </div>
  </section>

  <!-- Contact Form -->
  <section id="contact" class="py-20 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
          Get In Touch
        </h2>
        <p class="text-xl text-gray-600">
          Fill out the form below and our team will contact you within 24 hours.
        </p>
      </div>

      <form 
        name="general-inquiry" 
        method="POST" 
        data-netlify="true"
        data-netlify-honeypot="bot-field"
        action="/success"
        class="bg-gray-50 rounded-2xl p-8 md:p-12 shadow-lg"
      >
        <input type="hidden" name="form-name" value="general-inquiry" />
        <input type="hidden" name="source" value="homepage" />
        <div class="hidden">
          <label>Don't fill this out: <input name="bot-field" /></label>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label for="name" class="block text-sm font-semibold text-gray-700 mb-2">Full Name *</label>
            <input 
              type="text" 
              id="name" 
              name="name" 
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
              placeholder="John Smith"
            />
          </div>
          <div>
            <label for="email" class="block text-sm font-semibold text-gray-700 mb-2">Email Address *</label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
              placeholder="john@company.com"
            />
          </div>
          <div>
            <label for="phone" class="block text-sm font-semibold text-gray-700 mb-2">Phone Number *</label>
            <input 
              type="tel" 
              id="phone" 
              name="phone" 
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
              placeholder="(555) 123-4567"
            />
          </div>
          <div>
            <label for="company" class="block text-sm font-semibold text-gray-700 mb-2">Company Name</label>
            <input 
              type="text" 
              id="company" 
              name="company" 
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
              placeholder="ABC Logistics Inc."
            />
          </div>
        </div>
        
        <div class="mt-6">
          <label for="property" class="block text-sm font-semibold text-gray-700 mb-2">Property Interest</label>
          <select 
            id="property" 
            name="propertyInterested"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
          >
            <option value="">Select a property (optional)</option>
            {warehouses.filter((w: CollectionEntry<'warehouses'>) => w.data.availability === 'available').map((warehouse: CollectionEntry<'warehouses'>) => (
              <option value={warehouse.data.title}>{warehouse.data.title} - {warehouse.data.location}</option>
            ))}
          </select>
        </div>
        
        <div class="mt-6">
          <label for="message" class="block text-sm font-semibold text-gray-700 mb-2">Message *</label>
          <textarea 
            id="message" 
            name="message" 
            rows="4" 
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"
            placeholder="Tell us about your warehouse needs..."
          ></textarea>
        </div>
        
        <div class="mt-8">
          <button 
            type="submit"
            class="w-full bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-full font-semibold text-lg transition-all hover:shadow-xl hover:scale-105"
          >
            Send Message
          </button>
        </div>

        <p class="mt-6 text-sm text-gray-500 text-center">
          By submitting this form, you agree to our 
          <a href="#" class="text-blue-600 hover:underline">Privacy Policy</a> and 
          <a href="#" class="text-blue-600 hover:underline">Terms of Service</a>.
        </p>
      </form>
    </div>
  </section>

  <style>
    /* Custom animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fadeInUp {
      animation: fadeInUp 0.8s ease-out forwards;
    }

    /* Grid background pattern */
    .bg-grid {
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }
  </style>
</BaseLayout>